# Vim 介绍

## 什么是 Vim，Vim 及其安装

通过前面的学习我们知道，linux 系统中“一切皆文件”，因此当我们在命令行下更改文件内容时，不可避免地要用到文本编辑器。

作为一名 Linux 初学者，你必须熟练掌握 Linux 中至少一款文本编辑器的用法。对文本编辑器的功能(如查找、剪切和粘贴)了解越多，对你越有帮助。

可供选择的编辑器不止一种，例如 Vim、emacs、pico、nano 等，很多人都找到了自己所喜爱的编辑器。综合考虑各种因素，本套 Linux 教程建议初学者学习 Vim 文本编辑器。

Vim 文本编辑器，是由 vi 发展演变过来的文本编辑器，因其具有使用简单、功能强大、是 Linux 众多发行版的默认文本编辑器等特点，成功圈住了很多人成为其死忠粉丝。
关于 vi 和 Vim 之间的区别和联系，后续会进行详细介绍，这里不再赘述。

## 两者关系

我们知道，Vi 编辑器是 Unix 系统最初的编辑器。它使用控制台图形模式来模拟文本编辑窗口，允许查看文件中的行、在文件中移动、插入、编辑和替换文本。

尽管 Vi 可能是世界上复杂的编辑器(讨厌它的人是这么认为的)，但其拥有的大量特性使其成为 Unix 管理员多年来的支柱性工具。

在 GNU 项目中，程序员在将 Vi 编辑器移植到开源世界的同时，决定对其作一些改进。由于改进后的 Vi 不再是以前 Unix 中的那个原始的 Vi 编辑器了，开发人员也就将它重命名为&ldquo;Vi improved&rdquo;，也就是 Vim。

GNU 项目，英文全称为&ldquo;GNU is Not Unix&rdquo;，简单的说，就是一个开发类 Unix 操作系统的项目，GNU 操作系统是由 GNU 软件包及其第三方的免费软件包组成，所以其最大的特点就是免费。

因此可以这样说，Vim 是由 Vi 发展演变过程的文本编辑器，因其具有语法高亮显示、多视窗编辑、代码折叠、支持插件等功能，已成为众多 linux 发行版本的标配，本教程强烈建议大家系统地学习 Vim。

有读者可能会问，Linux 系统中的文本编辑器有很多，例如 emacs、pico、nano、joe 等等，为什么一定要学 Vim 呢？

推荐使用 Vim 文本编辑器的原因有很多，比如说:

几乎所有的 Linux 发行版都内嵌有 Vim 文本编辑器，而其他的编辑器则不一定存在；

在使用 Linux 系统过程中，很多软件的编辑接口都会默认调用 Vim 文件编辑器，例如 crontab、Visudo、edquota 等命令；

Vim 具有编辑程序的能力，会主动利用不同的字体颜色辨别语法的正确性，方便程序设计；

使用 Vim 文本编辑器，编辑速度会更快。

所有原因中，最主要的还是第 2 条，就是因为有太多 Linux 命令会默认调用 Vim 作为编辑数据的接口，所以建议初学者学会 Vim。

## 通过前面的学习我们知道，linux 系统中所有的内容都以文件的形式进行存储，当在命令行下更改文件内容时，常会用到文本编辑器

我们首选的文本编辑器是 Vim(至于为什么，可查看《Vi 和 Vim 的区别和联系》一节)。使用 Vim 编辑文件时，存在 3 种工作模式，分别是命令模式、输入模式和编辑模式，这 3 种工作模式可随意切换，如图 1 所示。

图 1 Vim 的三种工作模式
Vim 的命令模式
使用 Vim 编辑文件时，默认处于命令模式。此模式下，可使用方向键(上、下、左、右键)或 k、j、h、i 移动光标的位置，还可以对文件内容进行复制、粘贴、替换、删除等操作。

图 2 所示是在 CentOS 6.x 系统中 Vim 处于命令模式的状态示意图。
Vim 处于命令状态
图 2 Vim 处于命令状态
Vim 的输入模式
在输入模式下，Vim 可以对文件执行写操作，类似于在 Windows 系统的文档中输入内容。

使 Vim 进行输入模式的方式是在命令模式状态下输入 i、I、a、A、o、O 等插入命令(各指令的具体功能如表 3 所示)，当编辑文件完成后按 Esc 键即可返回命令模式。

表 3 各插入命令的具体功能
| 快捷键 | 功能描述 |
| ------ | --------------------------------------------------------------------------------------------------- |
| I | 在光标所在行的行首插入随后输入的文本，行首是该行的第一个非空白字符，相当于光标移动到行首执行 i 命令 |
| o | 在光标所在行的下面插入新的一行。光标停在空行首，等待输入文本 |
| O | 在光标所在行的上面插入新的一行。光标停在空行的行首，等待输入文本 |
| a | 在当前光标所在位置之后插入随后输入的文本 |
| A | 在光标所在行的行尾插入随后输入的文本，相当于光标移动到行尾再执行 a 命令 |

图 4 所示即为 Vim 处于输入模式状态下的示意图。
Vim 处于输入模式
图 4 Vim 处于输入模式
Vim 的编辑模式
编辑模式用于对文件中的指定内容执行保存、查找或替换等操作。

使 Vim 切换到编辑模式的方法是在命令模式状态下按“:”键，此时 Vim 窗口的左下方出现一个“:”符号，这是就可以输入相关指令进行操作了。
指令执行后 Vim 会自动返回命令模式。如想直接返回命令模式，按 Esc 即可。

图 4 所示为 Vim 进入编辑模式后的状态。
Vim 进行编辑模式
图 4 Vim 进行编辑模式
对于新手来说，经常不知道自己处于什么模式。不论是自己忘了，还是不小心切换了模式，都可以按一次 Esc 键返回命令模式。如果你多按几次 Esc 键后听到"嘀————"的声音，则代表你已经处于命令模式了。
